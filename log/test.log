ℹ Testing srppp
✔ | F W  S  OK | Context

⠏ |          0 | alternative_products                                           
⠋ |          1 | alternative_products                                           
⠙ |          2 | alternative_products                                           
✔ |          5 | alternative_products

⠏ |          0 | resolve_cultures                                               
✔ |          8 | resolve_cultures

⠏ |          0 | srppp_xml                                                      ! Unsatisfied constraints:
* Table `pNbrs`: primary key `pNbr`: has 1 missing values
* Table `ingredients`: foreign key `pk` into table `substances`: values of `ingredients$pk` not in `substances$pk`: 50804ef0-5d85-46cc-b697-17a7bca5f8f0 (1), 738e64d8-6e48-415f-9341-50608bd3273c (1), c1966a3b-0a53-43aa-8abc-c736e118a497 (1)
* Table `parallel_imports`: foreign key `pNbr` into table `pNbrs`: values of `parallel_imports$pNbr` not in `pNbrs$pNbr`: 7738 (5), 8332 (1), 9033 (1)

⠋ | 1        0 | srppp_xml                                                      
⠙ | 1        1 | srppp_xml                                                      ! Unsatisfied constraints:
* Table `pNbrs`: primary key `pNbr`: has 1 missing values
* Table `ingredients`: foreign key `pk` into table `substances`: values of `ingredients$pk` not in `substances$pk`: 50804ef0-5d85-46cc-b697-17a7bca5f8f0 (1), 738e64d8-6e48-415f-9341-50608bd3273c (1), c1966a3b-0a53-43aa-8abc-c736e118a497 (1)
* Table `parallel_imports`: foreign key `pNbr` into table `pNbrs`: values of `parallel_imports$pNbr` not in `pNbrs$pNbr`: 7738 (5), 8332 (1), 9033 (1)

⠹ | 2        1 | srppp_xml                                                      
✖ | 2        1 | srppp_xml [1.4s]
────────────────────────────────────────────────────────────────────────────────
Failure ('test-srppp_xml.R:3:3'): We get dm objects with relational integrity
`print(dm::dm_examine_constraints(srppp_cur, .progress = FALSE))` did not throw the expected message.

Failure ('test-srppp_xml.R:11:3'): We get dm objects with relational integrity
`print(dm::dm_examine_constraints(srppp_test_2, .progress = FALSE))` did not throw the expected message.
────────────────────────────────────────────────────────────────────────────────

⠏ |          0 | use_rates                                                      
✔ |          5 | use_rates

══ Results ═════════════════════════════════════════════════════════════════════
Duration: 2.0 s

── Failed tests ────────────────────────────────────────────────────────────────
Failure ('test-srppp_xml.R:3:3'): We get dm objects with relational integrity
`print(dm::dm_examine_constraints(srppp_cur, .progress = FALSE))` did not throw the expected message.

Failure ('test-srppp_xml.R:11:3'): We get dm objects with relational integrity
`print(dm::dm_examine_constraints(srppp_test_2, .progress = FALSE))` did not throw the expected message.

[ FAIL 2 | WARN 0 | SKIP 0 | PASS 19 ]

No one is perfect!
