<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a dm object from an XML version of the Swiss Register of Plant Protection Products — srppp_dm • srppp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a dm object from an XML version of the Swiss Register of Plant Protection Products — srppp_dm"><meta name="description" content="While reading in the data, the information obtained from the XML file is
left unchanged, with the exceptions listed in the section 'Details'.
An overview of the contents of the most important tables in the resulting
data object is given in vignette(&quot;srppp&quot;)."><meta property="og:description" content="While reading in the data, the information obtained from the XML file is
left unchanged, with the exceptions listed in the section 'Details'.
An overview of the contents of the most important tables in the resulting
data object is given in vignette(&quot;srppp&quot;)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">srppp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/srppp.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/srppp_products_with_MO.html">Statistics on products containing microorganisms in the latest XML dump of the SRPPP</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/agroscope-ch/srppp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a dm object from an XML version of the Swiss Register of Plant Protection Products</h1>
      <small class="dont-index">Source: <a href="https://github.com/agroscope-ch/srppp/blob/v2.0.2/R/srppp-xml.R" class="external-link"><code>R/srppp-xml.R</code></a></small>
      <div class="d-none name"><code>srppp_dm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>While reading in the data, the information obtained from the XML file is
left unchanged, with the exceptions listed in the section 'Details'.
An overview of the contents of the most important tables in the resulting
data object is given in <code><a href="../articles/srppp.html">vignette("srppp")</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">srppp_dm</span><span class="op">(</span>from <span class="op">=</span> <span class="va">srppp_xml_url</span>, remove_duplicates <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'srppp_dm'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-from">from<a class="anchor" aria-label="anchor" href="#arg-from"></a></dt>
<dd><p>A specification of the way to retrieve the XML to be passed to
<a href="srppp_xml_get.html">srppp_xml_get</a>, or an object of the class 'srppp_xml'</p></dd>


<dt id="arg-remove-duplicates">remove_duplicates<a class="anchor" aria-label="anchor" href="#arg-remove-duplicates"></a></dt>
<dd><p>Should duplicates based on wNbrs be removed?</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Should we give some feedback?</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A srppp_dm object</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not used</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="https://dm.cynkra.com/reference/dm.html" class="external-link">dm::dm</a> object with tables linked by foreign keys
pointing to primary keys, i.e. with referential integrity.
Since version 1.1, the returned object has an attribute named 'culture_tree'
of class <a href="https://rdrr.io/pkg/data.tree/man/Node.html" class="external-link">data.tree::Node</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="corrections-made-to-the-data">Corrections made to the data<a class="anchor" aria-label="anchor" href="#corrections-made-to-the-data"></a></h3>

<ul><li><p>In the following case, the product composition is corrected while reading in
the data: The active substance content of Dormex (W-3066) is not 667 g/L,
but 520 g/L This was confirmed by a visit to the Wädenswil archive by
Johannes Ranke and Daniel Baumgartner, 2024-03-27.</p></li>
</ul></div>

<div class="section">
<h3 id="removal-of-redundant-information">Removal of redundant information<a class="anchor" aria-label="anchor" href="#removal-of-redundant-information"></a></h3>

<ul><li><p>Information on products that has been duplicated across several products
sharing the same P-Number has been associated directly with this P-Number,
in order to avoid duplications. While reading in the XML file, it is checked
that the resulting deduplication does not remove any data.</p></li>
<li><p>In very few cases of historical XML files, there are two <code>&lt;Product&gt;</code>
sections sharing the same W-Number. In these cases, one of these has apparently
been included in error and an informed decision is taken while reading in
the data which one of these sections is discarded. The details of this
procedure can be found in the source code of the function
<code>srppp_xml_get_products</code>.</p></li>
</ul></div>

<div class="section">
<h3 id="amendments-to-the-data">Amendments to the data<a class="anchor" aria-label="anchor" href="#amendments-to-the-data"></a></h3>


<p>In the table of obligations, the following information on mitigation
measures is extracted from the ones relevant for the environment (SPe 3).</p><ul><li><p>"sw_drift_dist": Unsprayed buffer towards surface waters to mitigate
spray drift in meters</p></li>
<li><p>"sw_runoff_dist": Vegetated buffer towards surface waters to mitigate
runoff in meters</p></li>
<li><p>"sw_runoff_points": Required runoff mitigation points to mitigate runoff</p></li>
<li><p>"biotope_drift_dist": Unsprayed buffer towards biotopes (as defined in
articles 18a and 18b of the Federal Act on the Protection of Nature and
Cultural Heritage) to mitigate spray drift in meters</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="co"># Avoid NOTE on CRAN caused by checks &gt;5s</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dm.cynkra.com/" class="external-link">dm</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sr</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">srppp_dm</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fall back to internal test data if downloading or reading fails</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">inherits</a></span><span class="op">(</span><span class="va">sr</span>, <span class="st">"try-error"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">sr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata/Daten_Pflanzenschutzmittelverzeichnis_2024-12-16.zip"</span>,</span></span>
<span class="r-in"><span>      package <span class="op">=</span> <span class="st">"srppp"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="srppp_xml_get.html">srppp_xml_get_from_path</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"2024-12-16"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">srppp_dm</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://dm.cynkra.com/reference/dm_examine_constraints.html" class="external-link">dm_examine_constraints</a></span><span class="op">(</span><span class="va">sr</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Unsatisfied constraints:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">•</span> Table `parallel_imports`: foreign key `pNbr` into table `pNbrs`: values of `parallel_imports$pNbr` not in `pNbrs$pNbr`: 7738 (5), 8332 (1), 9033 (1)</span>
<span class="r-in"><span><span class="fu"><a href="https://dm.cynkra.com/reference/dm_draw.html" class="external-link">dm_draw</a></span><span class="op">(</span><span class="va">sr</span><span class="op">)</span></span></span>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: %0 Pages: 1 --><svg width="387pt" height="710pt" viewbox="0.00 0.00 387.00 710.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 706)"><title>%0</title><g id="a_graph0"><a xlink:title="Data Model">
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-706 383,-706 383,4 -4,4"></polygon></a>
</g><!-- CodeR --><g id="CodeR" class="node"><title>CodeR</title><polygon fill="#00008b" stroke="transparent" points="202,-681 202,-701 244,-701 244,-681 202,-681"></polygon><text text-anchor="start" x="203.5561" y="-686.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">CodeR</text><polygon fill="#cccce7" stroke="transparent" points="202,-661 202,-681 244,-681 244,-661 202,-661"></polygon><text text-anchor="start" x="204" y="-666.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="201,-660 201,-702 245,-702 245,-660 201,-660"></polygon></g><!-- pNbrs --><g id="pNbrs" class="node"><title>pNbrs</title><polygon fill="#00008b" stroke="transparent" points="327.5,-401 327.5,-421 365.5,-421 365.5,-401 327.5,-401"></polygon><text text-anchor="start" x="329.3941" y="-406.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">pNbrs</text><polygon fill="#cccce7" stroke="transparent" points="327.5,-381 327.5,-401 365.5,-401 365.5,-381 327.5,-381"></polygon><text text-anchor="start" x="329.5" y="-387.4" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="326.5,-380 326.5,-422 366.5,-422 366.5,-380 326.5,-380"></polygon></g><!-- CodeR&#45;&gt;pNbrs --><g id="CodeR_1" class="edge"><title>CodeR:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M223,-661C223,-636.1548 260.3592,-668.4953 278,-651 358.9114,-570.7558 219.1175,-401.9808 317.2456,-391.5108"></path><polygon fill="#555555" stroke="#555555" points="317.6865,-394.9932 327.5,-391 317.3382,-388.0019 317.6865,-394.9932"></polygon></g><!-- CodeS --><g id="CodeS" class="node"><title>CodeS</title><polygon fill="#00008b" stroke="transparent" points="203,-621 203,-641 244,-641 244,-621 203,-621"></polygon><text text-anchor="start" x="204.8331" y="-626.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">CodeS</text><polygon fill="#cccce7" stroke="transparent" points="203,-601 203,-621 244,-621 244,-601 203,-601"></polygon><text text-anchor="start" x="205" y="-606.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="201.5,-600 201.5,-642 244.5,-642 244.5,-600 201.5,-600"></polygon></g><!-- CodeS&#45;&gt;pNbrs --><g id="CodeS_1" class="edge"><title>CodeS:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M244,-611C344.9068,-611 231.4678,-406.1968 317.3034,-391.7966"></path><polygon fill="#555555" stroke="#555555" points="317.803,-395.2683 327.5,-391 317.2577,-388.2896 317.803,-395.2683"></polygon></g><!-- application_comments --><g id="application_comments" class="node"><title>application_comments</title><polygon fill="#006400" stroke="transparent" points="1,-261 1,-281 131,-281 131,-261 1,-261"></polygon><text text-anchor="start" x="2.6241" y="-266.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">application_comments</text><polygon fill="#cce0cc" stroke="transparent" points="1,-241 1,-261 131,-261 131,-241 1,-241"></polygon><text text-anchor="start" x="3" y="-246.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="0,-240 0,-282 132,-282 132,-240 0,-240"></polygon></g><!-- uses --><g id="uses" class="node"><title>uses</title><polygon fill="#006400" stroke="transparent" points="185,-161 185,-181 262,-181 262,-161 185,-161"></polygon><text text-anchor="start" x="211.4481" y="-166.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">uses</text><polygon fill="#cce0cc" stroke="transparent" points="185,-141 185,-161 262,-161 262,-141 185,-141"></polygon><text text-anchor="start" x="187" y="-146.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="#cce0cc" stroke="transparent" points="185,-121 185,-141 262,-141 262,-121 185,-121"></polygon><text text-anchor="start" x="186.9565" y="-127.4" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="183.5,-120 183.5,-182 262.5,-182 262.5,-120 183.5,-120"></polygon></g><!-- application_comments&#45;&gt;uses --><g id="application_comments_1" class="edge"><title>application_comments:pNbr, use_nr-&gt;uses:pNbr, use_nr</title><path fill="none" stroke="#555555" d="M131,-251C185.6008,-251 134.3429,-146.4083 174.8844,-132.5172"></path><polygon fill="#555555" stroke="#555555" points="175.6298,-135.9447 185,-131 174.5914,-129.0221 175.6298,-135.9447"></polygon></g><!-- categories --><g id="categories" class="node"><title>categories</title><polygon fill="#00008b" stroke="transparent" points="193,-561 193,-581 253,-581 253,-561 193,-561"></polygon><text text-anchor="start" x="194.6276" y="-566.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">categories</text><polygon fill="#cccce7" stroke="transparent" points="193,-541 193,-561 253,-561 253,-541 193,-541"></polygon><text text-anchor="start" x="195" y="-546.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="192,-540 192,-582 254,-582 254,-540 192,-540"></polygon></g><!-- categories&#45;&gt;pNbrs --><g id="categories_1" class="edge"><title>categories:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M253,-551C327.765,-551 256.4282,-405.6484 317.4961,-392.0217"></path><polygon fill="#555555" stroke="#555555" points="317.9074,-395.498 327.5,-391 317.1961,-388.5342 317.9074,-395.498"></polygon></g><!-- culture_forms --><g id="culture_forms" class="node"><title>culture_forms</title><polygon fill="#006400" stroke="transparent" points="25,-201 25,-221 107,-221 107,-201 25,-201"></polygon><text text-anchor="start" x="26.7363" y="-206.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">culture_forms</text><polygon fill="#cce0cc" stroke="transparent" points="25,-181 25,-201 107,-201 107,-181 25,-181"></polygon><text text-anchor="start" x="27" y="-186.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="24,-180 24,-222 108,-222 108,-180 24,-180"></polygon></g><!-- culture_forms&#45;&gt;uses --><g id="culture_forms_1" class="edge"><title>culture_forms:pNbr, use_nr-&gt;uses:pNbr, use_nr</title><path fill="none" stroke="#555555" d="M107,-191C146.978,-191 142.4986,-140.8694 174.8355,-132.2532"></path><polygon fill="#555555" stroke="#555555" points="175.5035,-135.6974 185,-131 174.6468,-128.75 175.5035,-135.6974"></polygon></g><!-- cultures --><g id="cultures" class="node"><title>cultures</title><polygon fill="#006400" stroke="transparent" points="28,-141 28,-161 105,-161 105,-141 28,-141"></polygon><text text-anchor="start" x="44.3422" y="-146.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">cultures</text><polygon fill="#cce0cc" stroke="transparent" points="28,-121 28,-141 105,-141 105,-121 28,-121"></polygon><text text-anchor="start" x="29.9565" y="-126.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="26.5,-120 26.5,-162 105.5,-162 105.5,-120 26.5,-120"></polygon></g><!-- cultures&#45;&gt;uses --><g id="cultures_1" class="edge"><title>cultures:pNbr, use_nr-&gt;uses:pNbr, use_nr</title><path fill="none" stroke="#555555" d="M105,-131C136.9444,-131 147.3638,-131 174.936,-131"></path><polygon fill="#555555" stroke="#555555" points="175,-134.5001 185,-131 175,-127.5001 175,-134.5001"></polygon></g><!-- danger_symbols --><g id="danger_symbols" class="node"><title>danger_symbols</title><polygon fill="#00008b" stroke="transparent" points="176,-501 176,-521 271,-521 271,-501 176,-501"></polygon><text text-anchor="start" x="177.6199" y="-506.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">danger_symbols</text><polygon fill="#cccce7" stroke="transparent" points="176,-481 176,-501 271,-501 271,-481 176,-481"></polygon><text text-anchor="start" x="178" y="-486.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="174.5,-480 174.5,-522 271.5,-522 271.5,-480 174.5,-480"></polygon></g><!-- danger_symbols&#45;&gt;pNbrs --><g id="danger_symbols_1" class="edge"><title>danger_symbols:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M271,-491C318.0597,-491 282.9867,-406.0146 317.2131,-392.7357"></path><polygon fill="#555555" stroke="#555555" points="318.2217,-396.1151 327.5,-391 317.057,-389.2126 318.2217,-396.1151"></polygon></g><!-- formulation_codes --><g id="formulation_codes" class="node"><title>formulation_codes</title><polygon fill="#00008b" stroke="transparent" points="169,-441 169,-461 277,-461 277,-441 169,-441"></polygon><text text-anchor="start" x="170.514" y="-446.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">formulation_codes</text><polygon fill="#cccce7" stroke="transparent" points="169,-421 169,-441 277,-441 277,-421 169,-421"></polygon><text text-anchor="start" x="171" y="-426.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="168,-420 168,-462 278,-462 278,-420 168,-420"></polygon></g><!-- formulation_codes&#45;&gt;pNbrs --><g id="formulation_codes_1" class="edge"><title>formulation_codes:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M277,-431C301.6058,-431 300.0703,-401.459 317.3239,-393.1506"></path><polygon fill="#555555" stroke="#555555" points="318.4398,-396.4921 327.5,-391 316.9924,-389.6434 318.4398,-396.4921"></polygon></g><!-- ingredients --><g id="ingredients" class="node"><title>ingredients</title><polygon fill="#ff8c00" stroke="transparent" points="190,-81 190,-101 256,-101 256,-81 190,-81"></polygon><text text-anchor="start" x="191.8969" y="-86.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">ingredients</text><polygon fill="#ffe8cc" stroke="transparent" points="190,-61 190,-81 256,-81 256,-61 190,-61"></polygon><text text-anchor="start" x="192" y="-66.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="#ffe8cc" stroke="transparent" points="190,-41 190,-61 256,-61 256,-41 190,-41"></polygon><text text-anchor="start" x="192" y="-46.4" font-family="Times,serif" font-size="14.00" fill="#444444">pk</text><polygon fill="none" stroke="#aa5d00" stroke-opacity="0.666667" points="189,-40 189,-102 257,-102 257,-40 189,-40"></polygon></g><!-- ingredients&#45;&gt;pNbrs --><g id="ingredients_1" class="edge"><title>ingredients:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M256,-71C292.1938,-71 345.2916,-77.0255 346.4797,-370.8755"></path><polygon fill="#555555" stroke="#555555" points="342.9799,-371.0071 346.5,-381 349.9799,-370.993 342.9799,-371.0071"></polygon></g><!-- substances --><g id="substances" class="node"><title>substances</title><polygon fill="#ff8c00" stroke="transparent" points="315.5,-61 315.5,-81 378.5,-81 378.5,-61 315.5,-61"></polygon><text text-anchor="start" x="317.0659" y="-66.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">substances</text><polygon fill="#ffe8cc" stroke="transparent" points="315.5,-41 315.5,-61 378.5,-61 378.5,-41 315.5,-41"></polygon><text text-anchor="start" x="317.5" y="-47.4" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">pk</text><polygon fill="none" stroke="#aa5d00" stroke-opacity="0.666667" points="314,-40 314,-82 379,-82 379,-40 314,-40"></polygon></g><!-- ingredients&#45;&gt;substances --><g id="ingredients_2" class="edge"><title>ingredients:pk-&gt;substances:pk</title><path fill="none" stroke="#555555" d="M256,-51C278.7257,-51 286.804,-51 305.4101,-51"></path><polygon fill="#555555" stroke="#555555" points="305.5,-54.5001 315.5,-51 305.5,-47.5001 305.5,-54.5001"></polygon></g><!-- obligations --><g id="obligations" class="node"><title>obligations</title><polygon fill="#006400" stroke="transparent" points="28,-81 28,-101 105,-101 105,-81 28,-81"></polygon><text text-anchor="start" x="35.3892" y="-86.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">obligations</text><polygon fill="#cce0cc" stroke="transparent" points="28,-61 28,-81 105,-81 105,-61 28,-61"></polygon><text text-anchor="start" x="29.9565" y="-66.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="26.5,-60 26.5,-102 105.5,-102 105.5,-60 26.5,-60"></polygon></g><!-- obligations&#45;&gt;uses --><g id="obligations_1" class="edge"><title>obligations:pNbr, use_nr-&gt;uses:pNbr, use_nr</title><path fill="none" stroke="#555555" d="M105,-71C145.625,-71 141.6895,-121.1306 174.6556,-129.7468"></path><polygon fill="#555555" stroke="#555555" points="174.6516,-133.2718 185,-131 175.4935,-126.3226 174.6516,-133.2718"></polygon></g><!-- parallel_imports --><g id="parallel_imports" class="node"><title>parallel_imports</title><polygon fill="#add8e6" stroke="transparent" points="176,-381 176,-401 271,-401 271,-381 176,-381"></polygon><text text-anchor="start" x="177.6234" y="-386.4" font-family="Times,serif" font-size="14.00" fill="#000000">parallel_imports</text><polygon fill="#eef7fa" stroke="transparent" points="176,-361 176,-381 271,-381 271,-361 176,-361"></polygon><text text-anchor="start" x="178" y="-367.4" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">id</text><polygon fill="#eef7fa" stroke="transparent" points="176,-341 176,-361 271,-361 271,-341 176,-341"></polygon><text text-anchor="start" x="178" y="-346.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#739099" stroke-opacity="0.666667" points="174.5,-340 174.5,-402 271.5,-402 271.5,-340 174.5,-340"></polygon></g><!-- parallel_imports&#45;&gt;pNbrs --><g id="parallel_imports_1" class="edge"><title>parallel_imports:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M271,-351C297.9213,-351 297.432,-381.625 317.5007,-389.2813"></path><polygon fill="#555555" stroke="#555555" points="317.0516,-392.7553 327.5,-391 318.2375,-385.8565 317.0516,-392.7553"></polygon></g><!-- pests --><g id="pests" class="node"><title>pests</title><polygon fill="#006400" stroke="transparent" points="28,-21 28,-41 105,-41 105,-21 28,-21"></polygon><text text-anchor="start" x="52.5028" y="-26.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">pests</text><polygon fill="#cce0cc" stroke="transparent" points="28,-1 28,-21 105,-21 105,-1 28,-1"></polygon><text text-anchor="start" x="29.9565" y="-6.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr, use_nr</text><polygon fill="none" stroke="#004200" stroke-opacity="0.666667" points="26.5,0 26.5,-42 105.5,-42 105.5,0 26.5,0"></polygon></g><!-- pests&#45;&gt;uses --><g id="pests_1" class="edge"><title>pests:pNbr, use_nr-&gt;uses:pNbr, use_nr</title><path fill="none" stroke="#555555" d="M105,-11C165.3429,-11 126.1639,-117.3495 174.8441,-129.8123"></path><polygon fill="#555555" stroke="#555555" points="174.6611,-133.3147 185,-131 175.4743,-126.3621 174.6611,-133.3147"></polygon></g><!-- products --><g id="products" class="node"><title>products</title><polygon fill="#add8e6" stroke="transparent" points="197,-301 197,-321 249,-321 249,-301 197,-301"></polygon><text text-anchor="start" x="198.8948" y="-306.4" font-family="Times,serif" font-size="14.00" fill="#000000">products</text><polygon fill="#eef7fa" stroke="transparent" points="197,-281 197,-301 249,-301 249,-281 197,-281"></polygon><text text-anchor="start" x="199" y="-286.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="#eef7fa" stroke="transparent" points="197,-261 197,-281 249,-281 249,-261 197,-261"></polygon><text text-anchor="start" x="199" y="-267.4" font-family="Times,serif" text-decoration="underline" font-size="14.00" fill="#444444">wNbr</text><polygon fill="none" stroke="#739099" stroke-opacity="0.666667" points="196,-260 196,-322 250,-322 250,-260 196,-260"></polygon></g><!-- products&#45;&gt;pNbrs --><g id="products_1" class="edge"><title>products:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M249,-291C301.7505,-291 275.1788,-378.1597 317.3943,-389.7356"></path><polygon fill="#555555" stroke="#555555" points="317.1428,-393.2314 327.5,-391 318.0119,-386.2855 317.1428,-393.2314"></polygon></g><!-- signal_words --><g id="signal_words" class="node"><title>signal_words</title><polygon fill="#00008b" stroke="transparent" points="184,-221 184,-241 262,-241 262,-221 184,-221"></polygon><text text-anchor="start" x="185.6739" y="-226.4" font-family="Times,serif" font-size="14.00" fill="#ffffff">signal_words</text><polygon fill="#cccce7" stroke="transparent" points="184,-201 184,-221 262,-221 262,-201 184,-201"></polygon><text text-anchor="start" x="186" y="-206.4" font-family="Times,serif" font-size="14.00" fill="#444444">pNbr</text><polygon fill="none" stroke="#00005c" stroke-opacity="0.666667" points="183,-200 183,-242 263,-242 263,-200 183,-200"></polygon></g><!-- signal_words&#45;&gt;pNbrs --><g id="signal_words_1" class="edge"><title>signal_words:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M262,-211C343.3077,-211 251.3972,-375.1914 317.1423,-389.9429"></path><polygon fill="#555555" stroke="#555555" points="317.1963,-393.4665 327.5,-391 317.9071,-386.5027 317.1963,-393.4665"></polygon></g><!-- uses&#45;&gt;pNbrs --><g id="uses_1" class="edge"><title>uses:pNbr-&gt;pNbrs:pNbr</title><path fill="none" stroke="#555555" d="M262,-151C295.4905,-151 345.5608,-14.1565 346.487,-370.8492"></path><polygon fill="#555555" stroke="#555555" points="342.9871,-371.0045 346.5,-381 349.9871,-370.9955 342.9871,-371.0045"></polygon></g></g></svg><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show ingredients for products named 'Boxer'</span></span></span>
<span class="r-in"><span><span class="va">sr</span><span class="op">$</span><span class="va">products</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Boxer"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">ingredients</span>, by <span class="op">=</span> <span class="st">"pNbr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">substances</span>, by <span class="op">=</span> <span class="st">"pk"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">wNbr</span>, <span class="va">name</span>, <span class="va">pNbr</span>, <span class="va">isSalePermission</span>, <span class="va">substance_de</span>, <span class="va">g_per_L</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wNbr   name   pNbr isSalePermission substance_de g_per_L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 6168   Boxer  <span style="text-decoration: underline;">7</span>105 FALSE            Prosulfocarb     800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 6168-1 Boxer  <span style="text-decoration: underline;">7</span>105 TRUE             Prosulfocarb     800</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show authorised uses of the original product</span></span></span>
<span class="r-in"><span><span class="va">boxer_uses</span> <span class="op">&lt;-</span> <span class="va">sr</span><span class="op">$</span><span class="va">products</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Boxer"</span>, <span class="op">!</span><span class="va">isSalePermission</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">uses</span>, by <span class="op">=</span> <span class="st">"pNbr"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span>,</span></span>
<span class="r-in"><span>    <span class="va">min_dosage</span>, <span class="va">max_dosage</span>, <span class="va">min_rate</span>, <span class="va">max_rate</span>, <span class="va">units_de</span>,</span></span>
<span class="r-in"><span>    <span class="va">waiting_period</span>, <span class="va">time_units_de</span>, <span class="va">application_area_de</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">boxer_uses</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 17 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pNbr use_nr min_dosage max_dosage min_rate max_rate units_de waiting_period</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">7</span>105      1         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      2.5      5   l/ha                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">7</span>105      2         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      5       <span style="color: #BB0000;">NA</span>   l/ha                 90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">7</span>105      3         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      3       <span style="color: #BB0000;">NA</span>   l/ha                 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">7</span>105      4         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      5       <span style="color: #BB0000;">NA</span>   l/ha                 60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">7</span>105      5         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      3        5   l/ha                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">7</span>105      6         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      5       <span style="color: #BB0000;">NA</span>   l/ha                  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">7</span>105      7         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      3       <span style="color: #BB0000;">NA</span>   l/ha                 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">7</span>105      8         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      4       <span style="color: #BB0000;">NA</span>   l/ha                 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">7</span>105      9         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      4       <span style="color: #BB0000;">NA</span>   l/ha                 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">7</span>105     10         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      3        4.5 l/ha                  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>  <span style="text-decoration: underline;">7</span>105     11         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      2.5      3   l/ha                 75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>  <span style="text-decoration: underline;">7</span>105     12         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      5       <span style="color: #BB0000;">NA</span>   l/ha                  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span>  <span style="text-decoration: underline;">7</span>105     13         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      2.5      5   l/ha                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span>  <span style="text-decoration: underline;">7</span>105     14         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      5       <span style="color: #BB0000;">NA</span>   l/ha                100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span>  <span style="text-decoration: underline;">7</span>105     15         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      4       <span style="color: #BB0000;">NA</span>   l/ha                 80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span>  <span style="text-decoration: underline;">7</span>105     16         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      4       <span style="color: #BB0000;">NA</span>   l/ha                 60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span>  <span style="text-decoration: underline;">7</span>105     17         <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      4       <span style="color: #BB0000;">NA</span>   l/ha                  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: time_units_de &lt;chr&gt;, application_area_de &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show crop for use number 1</span></span></span>
<span class="r-in"><span><span class="va">boxer_uses</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">use_nr</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">cultures</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">use_nr</span>, <span class="va">culture_de</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   use_nr culture_de</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>      1 Gerste    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>      1 Roggen    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>      1 Weizen    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show target pests for use number 1</span></span></span>
<span class="r-in"><span><span class="va">boxer_uses</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">use_nr</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">pests</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">use_nr</span>, <span class="va">pest_de</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   use_nr pest_de                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>      1 Einjährige Monocotyledonen (Ungräser)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>      1 Einjährige Dicotyledonen (Unkräuter) </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show obligations for use number 1</span></span></span>
<span class="r-in"><span><span class="va">boxer_uses</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">use_nr</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">obligations</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">use_nr</span>, <span class="va">sw_runoff_points</span>, <span class="va">obligation_de</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | use_nr| sw_runoff_points|obligation_de                                                                                                                                                                                                                                                                                                                                                                               |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |------:|----------------:|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|               NA|Behandlung von im Herbst gesäten Kulturen.                                                                                                                                                                                                                                                                                                                                                  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|               NA|Maximal 1 Behandlung pro Kultur.                                                                                                                                                                                                                                                                                                                                                            |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|                1|SPe 3: Zum Schutz von Gewässerorganismen muss das Abschwemmungsrisiko gemäss den Weisungen der Zulassungsstelle um 1 Punkt reduziert werden.                                                                                                                                                                                                                                                |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|               NA|Niedrige Aufwandmenge nur in Tankmischung gemäss den Angaben der Bewilligungsinhaberin.                                                                                                                                                                                                                                                                                                     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|               NA|Nachfolgearbeiten in behandelten Kulturen: bis 48 Stunden nach Ausbringung des Mittels Schutzhandschuhe + Schutzanzug tragen.                                                                                                                                                                                                                                                               |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |      1|               NA|Ansetzen der Spritzbrühe: Schutzhandschuhe tragen. Ausbringen der Spritzbrühe: Schutzhandschuhe + Schutzanzug + Visier + Kopfbedeckung tragen. Technische Schutzvorrichtungen während des Ausbringens (z.B. geschlossene Traktorkabine) können die vorgeschriebene persönliche Schutzausrüstung ersetzen, wenn gewährleistet ist, dass sie einen vergleichbaren oder höheren Schutz bieten. |</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show application comments for use number 1</span></span></span>
<span class="r-in"><span><span class="va">boxer_uses</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">use_nr</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">sr</span><span class="op">$</span><span class="va">application_comments</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join_by.html" class="external-link">join_by</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">use_nr</span>, <span class="va">application_comment_de</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   use_nr application_comment_de                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>      1 Herbst, Frühjahr; Vorauflauf, früher Nachauflauf.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Illustrate 'obligations' indicating varying effects</span></span></span>
<span class="r-in"><span><span class="va">sr</span><span class="op">$</span><span class="va">obligations</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">varying_effect</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">pNbr</span>, <span class="va">use_nr</span>, <span class="va">code</span>, <span class="va">obligation_de</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 199 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pNbr use_nr code  obligation_de                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">4</span>683      1 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">4</span>683      2 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">4</span>683      3 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">4</span>685      1 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">4</span>685      2 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">4</span>751      1 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">4</span>751      2 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">4</span>751      3 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">4</span>751      4 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">4</span>751      5 9299  Die Wirkungseffizienz der Nützlinge kann je nach Pflanzen…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 189 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Ranke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

